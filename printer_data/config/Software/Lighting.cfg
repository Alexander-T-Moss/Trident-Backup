[gcode_macro SET_LOGO_LED]
description: SET_LED like control for the Stealthburner logo LED

gcode:
    {% set red = params.RED|default(0)|float %}
    {% set green = params.GREEN|default(0)|float %}
    {% set blue = params.BLUE|default(0)|float %}
    {% set white = params.WHITE|default(0)|float %}
    {% set transmit = params.TRANSMIT|default(1)|int %}

    SET_LED LED=sb_leds RED={red} GREEN={green} BLUE={blue} WHITE={white} INDEX=1 TRANSMIT={transmit}


[gcode_macro STATUS_STANDBY]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=status_standby

[led_effect status_standby]
leds:
    neopixel:status_bar
layers:
    gradient 0.5 1 top (0.025, 0.1, 0.1), (0.004, 0.02, 0.02)
autostart: true
frame_rate: 24


[gcode_macro STATUS_HOMING]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=status_homing

[led_effect status_homing]
leds:
    neopixel:status_bar
endstops:
    x, y, z, probe
layers:
    homing 3 0 add (0.086, 0, 0.102)
    static 0 0 top (0.024, 0, 0.027)


[gcode_macro STATUS_MESHING]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=status_meshing

[led_effect status_meshing]
leds:
    neopixel:status_bar
layers:
    cylon 0.1 0 add (0.141, 0.129, 0)
    static 0 0 top (0.051, 0.047, 0)

[gcode_macro STATUS_HEATING]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=status_heating

[led_effect status_heating]
leds:
    neopixel:status_bar
layers:
    breathing 5 0 add (0.2, 0.035, 0)
    static 0 0 top (0.08, 0.015, 0)


[gcode_macro STATUS_PRINTING]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=status_printing

[led_effect status_printing]
leds:
    neopixel:status_bar
layers:
    progress 6 1 top (0.025, 0.1, 0.1)